<%- include('../partials/header.ejs') %>
    <div id="synopsis-body">
        <!-- Header with book title, image and author -->
        <%- include('../partials/book-show-title.ejs',
            {image:synopses.book_image, title:synopses.book_title,author:synopses.book_author}) %>

        <!-- Links to the form where author and title are automatic values -->     
            <div class="books-grid-container">
                <!-- LEFT navbar column -->
                <%- include('../partials/left-navbar.ejs',{synopses}) %>

                <!-- RIGHT COLUMN - shows individual synopsis about book (snippets) -->
                <div id="synopsis-previews-container">
                    <!-- Print the current synopsis the user clicked on -->
                    <div id="current-synopsis-container"> 
                        <div id="synopsis-title">
                            synopsis by: <%=synopses.author.username%>
                        </div>
                        <div id="synopsis-body">
                            <%=synopses.body%>
                        </div>
                        <div>Your current rating is <%=synopses.rating%></div>
                        <form id='rating-form' action="/synopsis/<%=synopses._id%>?_method=PUT" method="POST">
                            <!-- Rating where if user likes or doesnt like -->
                            <%if(currentUser){%>
                                <%if(synopses.likes.includes(currentUser.id)){%>
                                    <input name="rating" type="submit" value="You like this!">
                                <%}else{%>
                                    <input name="rating" type="submit" value="like">
                                <%}%>
                            <%}%>

                            
                        </form>
                    </div>
                </div>
            </div>
        </div> <!-- Grid container for left links and synopsis printouts -->
    </div>
<%- include('../partials/footer.ejs') %>